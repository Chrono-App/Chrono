<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home Page</title>
    <link href="../Bootstrap/CSS/bootstrap.min.css" rel="stylesheet">
    <link href="../Stylesheets/styles.css" rel="stylesheet">
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>

      <script>
        $(document).ready(function() {
            $.ajaxSetup({ cache: true });
            $.getScript('//connect.facebook.net/en_US/sdk.js', function(){
              FB.init({
                appId: '{390447094660142}',
                version: 'v2.7' // or v2.1, v2.2, v2.3, ...
              });     
              $('#loginbutton,#feedbutton').removeAttr('disabled');
              FB.getLoginStatus(updateStatusCallback);
            });  
        });
      </script>
  </head>
  <body>
      <script>
      // (function(d, s, id){
      //    var js, fjs = d.getElementsByTagName(s)[0];
      //    if (d.getElementById(id)) {return;}
      //    js = d.createElement(s); js.id = id;
      //    js.src = "//connect.facebook.net/en_US/sdk.js";
      //    fjs.parentNode.insertBefore(js, fjs);
      //  }(document, 'script', 'facebook-jssdk'));

      function statusChangeCallback(response) {
        console.log('statusChangeCallback');
        console.log(response);
        if (response.status === 'connected') {
          testAPI();
        } else {
          document.getElementById('status').innerHTML = 'Please log ' +
            'into this app.';
        }
      }

    function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

      window.fbAsyncInit = function() {
        FB.init({
          appId      : '390447094660142',
          cookie     : true, 
          xfbml      : true,
          version    : 'v2.8'
        });
            FB.AppEvents.logPageView();
              FB.getLoginStatus(function(response) {
          statusChangeCallback(response);
        });
          
      };

  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
      
    </script>

    <h1 class="text-center">Welcome to Chrono!</h1>
    <div class="fb-login-button" data-max-rows="1" data-size="icon" data-show-faces="false" data-auto-logout-link="true"></div>
    <div id="loginbutton">Log in with Facebook</div>
    <div class="login">
      <p>Username:</p>
      <input id="username" type="text" />
      <p>Password:</p>
      <input id="password" type="password" />
      <br />
      <br />
      <button class="btn btn-primary" id="login">Log In</button>
      <a href="newUser.html"><button class="btn btn-primary" id="createAccount">New User</button></a>
    </div>
    <div id="status">
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../Bootstrap/JS/bootstrap.min.js"></script>
    <script src="../Models/events.js"></script>
    <script src="events.js"></script>
    <script src="main.js"></script>
  </body>
</html>
